<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kufta ‚Äî Clean Street Food (Final)</title>
<link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
<style>
  :root{
    --black:#0b0b0b; --char:#171717; --muted:#7a7a7a; --white:#ffffff; --offwhite:#fbfbfb;
    --accent:#e63946; --accent-dark:#b22a34; --radius:12px; --shadow:0 18px 60px rgba(0,0,0,0.12);
    --container:1150px; --transition:220ms;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:"Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background: linear-gradient(180deg,#0f0f10 0%, #2a2a2a 45%, #efefef 180%);
    color:var(--char); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    line-height:1.4; min-height:100vh; position:relative;
  }

  /* grill smoke overlay (kept) */
  body::before{
    content:""; position:fixed; inset:0; z-index:0; pointer-events:none;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1600' height='900'><filter id='f'><feTurbulence baseFrequency='0.62' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/><feGaussianBlur stdDeviation='36' result='b'/></filter><rect width='100%' height='100%' filter='url(%23f)' fill='%23ffffff' opacity='0.08'/></svg>");
    background-size:cover; background-repeat:repeat; mix-blend-mode:overlay; opacity:0.14;
  }

  .container{max-width:var(--container);margin:0 auto;padding:0 18px;position:relative;z-index:2}
  header.top{position:sticky;top:0;z-index:1600;background:rgba(255,255,255,0.98);backdrop-filter:blur(6px);border-bottom:1px solid rgba(11,11,11,0.04)}
  .top-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;max-width:var(--container);margin:0 auto;padding:10px 18px}
  .brand{display:flex;align-items:center;gap:12px}
  nav.nav{display:flex;gap:10px;flex-wrap:wrap}
  nav.nav a{padding:8px 10px;border-radius:10px;font-weight:700;color:var(--char);text-decoration:none}
  nav.nav a:hover{color:var(--accent)}

  /* header cart icon (desktop) */
  .header-actions{display:flex;gap:10px;align-items:center}
  .header-cart{display:none;align-items:center;gap:8px;cursor:pointer;border-radius:999px;padding:6px 10px;border:1px solid #eee;background:#fff}
  .header-cart .count{background:var(--accent);color:#fff;padding:4px 8px;border-radius:999px;font-weight:800;font-size:12px}

  /* hero with banner */
  .hero{position:relative;overflow:hidden;padding:40px 0;display:grid;grid-template-columns:1fr 380px;gap:24px;align-items:center;z-index:1;
    background-image: url('assets/images/banner.jpg'); background-size:cover; background-position:center;}
  .hero::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.38),rgba(0,0,0,0.18));z-index:0}
  .kicker{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,#fff,#fff);color:var(--accent-dark);font-weight:800;font-size:13px;position:relative;z-index:1}
  .hero-title{margin:10px 0 12px;font-size:clamp(28px,5vw,48px);line-height:1;color:#fff;font-weight:800;position:relative;z-index:1}
  .lead{margin:0 0 16px;color:rgba(255,255,255,0.9);position:relative;z-index:1}
  .cta{display:flex;gap:12px;flex-wrap:wrap;position:relative;z-index:1}

  /* modern buttons */
  .btn, button {appearance:none;border:0;padding:10px 16px;border-radius:999px;font-weight:800;cursor:pointer;
    background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff;box-shadow:0 10px 30px rgba(178,42,52,0.12);transition:transform var(--transition),box-shadow var(--transition)}
  .btn:hover, button:hover{transform:translateY(-3px);box-shadow:0 20px 40px rgba(178,42,52,0.18)}
  .btn.ghost, button.ghost{background:transparent;color:var(--accent);border:2px solid var(--accent);box-shadow:none;padding:8px 14px}
  .btn.ghost:hover, button.ghost:hover{background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff}

  .card{background:var(--offwhite);border:1px solid #eee;border-radius:12px;padding:12px;box-shadow:var(--shadow);position:relative;z-index:1}
  section{padding:28px 0;position:relative;z-index:1}
  h2.section-title{font-size:20px;margin:0 0 12px;color:transparent;background:linear-gradient(90deg,var(--accent),#262626);-webkit-background-clip:text;background-clip:text;font-weight:800}

  .menu-top{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
  .pills{display:flex;gap:8px;flex-wrap:wrap}
  .pill{padding:8px 12px;border-radius:999px;background:var(--white);border:1px solid #eee;cursor:pointer;font-weight:700;color:var(--char)}
  .pill.active{background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff;box-shadow:0 10px 30px rgba(178,42,52,0.12);transform:translateY(-3px)}

  .menu-wrap{display:grid;grid-template-columns: minmax(360px, 1fr) 360px;gap:20px;align-items:start}
  .menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;min-width:0}
  .item{overflow:hidden;border-radius:12px;border:1px solid #eee;background:var(--white);box-shadow:0 10px 30px rgba(0,0,0,0.04);transition:transform var(--transition)}
  .item:hover{transform:translateY(-6px)}
  .item-img{height:160px;overflow:hidden}
  .item-img img{width:100%;height:100%;object-fit:cover;display:block}
  .item-body{padding:12px}
  .item h3{margin:0 0 6px;color:var(--char)}
  .item p{margin:0;color:var(--muted)}
  .item-foot{display:flex;justify-content:space-between;align-items:center;margin-top:12px}

  aside.cart{position:sticky;top:90px;align-self:start;min-width:0}
  .cart-panel{background:linear-gradient(180deg,#fff,#fbfbfb);border-radius:12px;padding:12px;border:1px solid #eee;box-shadow:0 14px 40px rgba(0,0,0,0.04)}
  .cart-item{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px dashed #f0f0f0}
  .qty-btn{background:#fff;border:1px solid #eee;padding:6px;border-radius:8px;cursor:pointer;margin-left:6px}

  .promo-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
  .promo-card{background:linear-gradient(180deg,#fff,#fbfbfb);border-radius:12px;padding:12px;border:1px solid #eee}

  .branches-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
  .branch-card{display:flex;gap:12px;align-items:center;background:var(--white);border-radius:12px;padding:12px;border:1px solid #eee}
  .branch-thumb{width:76px;height:64px;flex:0 0 76px;border-radius:8px;overflow:hidden}
  .map-wrap{margin-top:12px;border-radius:12px;overflow:hidden;border:1px solid #eee}

  .tabs{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
  .tab{padding:8px 12px;border-radius:999px;background:#fff;border:1px solid #eee;cursor:pointer}
  .tab.active{background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff;box-shadow:0 10px 30px rgba(178,42,52,0.12)}

  .accordion{display:none}
  .acc-btn{background:#fff;padding:12px;border-radius:10px;border:1px solid #eee;cursor:pointer;width:100%;text-align:left;font-weight:800}
  .acc-content{max-height:0;overflow:hidden;transition:max-height var(--transition) ease,opacity var(--transition) ease;opacity:0}
  .acc-content.open{max-height:1400px;padding:12px 0;opacity:1}

  .modal-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:1900;padding:12px}
  .modal-card{background:var(--offwhite);border-radius:12px;padding:16px;max-width:980px;width:100%;box-shadow:var(--shadow);max-height:92vh;overflow:auto}

  /* floating action buttons (FABs) */
  .wa-fab, .cart-fab {
    position:fixed; z-index:2200; display:none; align-items:center; justify-content:center; border-radius:999px;
    width:56px; height:56px; box-shadow:0 12px 40px rgba(0,0,0,0.12); cursor:pointer;
  }
  .wa-fab { left:16px; bottom:84px; background:#25d366; color:#fff; font-size:22px; }
  .cart-fab { right:16px; bottom:16px; background:linear-gradient(90deg,var(--accent),var(--accent-dark)); color:#fff; font-size:20px; width:64px; height:64px; font-weight:800; }

  /* social icons */
  .socials {display:flex;gap:10px;justify-content:center;align-items:center}
  .socials a{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:#fff;border:1px solid #eee;text-decoration:none;color:var(--char)}

  /* responsive rules */
  @media (min-width:981px){
    .accordion{display:none !important}
    .wa-fab{display:none !important}
    .cart-fab{display:none !important}
    .menu-accordion{display:none}
    .menu-grid{display:grid}
    .header-cart{display:flex}
  }
  @media (max-width:980px){
    .hero{grid-template-columns:1fr;gap:8px;padding:24px 0}
    .menu-wrap{grid-template-columns:1fr}
    aside.cart{position:static}
    .menu-grid{display:none}
    .menu-accordion{display:block}
    .tabs{display:none}
    .accordion{display:block}
    .wa-fab{display:flex}
    .cart-fab{display:flex}
    .header-cart{display:none}
    .modal-card{width:100%;height:100%;max-height:100vh;border-radius:12px 12px 0 0;padding:12px;overflow:auto}
    .modal-backdrop{align-items:flex-end}
    .acc-content{max-height:0;opacity:0}
  }

  input,select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #eee;background:#fff;color:var(--char)}
  textarea{min-height:90px}
  .muted{color:var(--muted)}
  .map-btn{width:44px;height:44px;border-radius:999px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-dark));color:#fff;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}

  header.top, .card, section, .btn, nav.nav a, .cart-panel, .header-cart {position:relative;z-index:2}
</style>
</head>
<body>

<div class="container">
  <!-- HEADER -->
  <header class="top" role="banner">
    <div class="top-inner">
      <div class="brand" style="align-items:center">
        <!-- inline SVG Kufta logo -->
        <div style="width:140px;height:48px;display:flex;align-items:center;gap:8px" aria-hidden="true">
          <svg width="140" height="48" viewBox="0 0 280 96" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Kufta logo">
            <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#e63946"/><stop offset="1" stop-color="#b22a34"/></linearGradient></defs>
            <circle cx="30" cy="48" r="22" fill="url(#g1)"/>
            <text x="70" y="60" font-family="Poppins, Arial" font-weight="800" font-size="28" fill="#111">Kufta</text>
          </svg>
        </div>

        <div style="margin-left:6px">
          <div style="font-size:13px;color:var(--muted)">Kufta</div>
          <div class="hotline" style="font-weight:700">Hotline: <strong>15544</strong></div>
        </div>
      </div>

      <nav class="nav" aria-label="Main navigation">
        <a href="#home" onclick="scrollToId('home')">Home</a>
        <a href="#menu" onclick="scrollToId('menu')">Menu</a>
        <a href="#promotions" onclick="scrollToId('promotions')">Promotions</a>
        <a href="#branches" onclick="scrollToId('branches')">Branches</a>
        <a href="#forms" onclick="scrollToId('forms')">Forms</a>
        <a href="#contact" onclick="scrollToId('contact')">Contact</a>
      </nav>

      <div class="header-actions">
        <!-- desktop header cart (always visible on desktop) -->
        <div class="header-cart" onclick="openCheckout()" title="Open cart">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 3h2l.4 2M7 13h10l3-8H6.4" stroke="#111" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <div class="count" id="header-count">0</div>
        </div>
      </div>

    </div>
  </header>

  <main id="page">
    <!-- HERO -->
    <section id="home" class="hero" aria-label="Hero">
      <div>
        <div class="kicker">Clean Street Food ‚Ä¢ Cairo</div>
        <h1 class="hero-title">Kufta ‚Äî Clean Street Food</h1>
        <p class="lead">Bold, smoky, and unforgettable ‚Äî grilled kofta & hawawshi crafted for the streets of Cairo. Order online or visit our branches.</p>
        <div class="cta">
          <button class="btn" onclick="scrollToId('menu')">Order Now</button>
          <button class="btn ghost" onclick="scrollToId('forms')">Feedback & Contact</button>
        </div>
        <div style="margin-top:12px" class="muted">Promos: <strong>3ALADEEMO</strong>, <strong>WELCOME10</strong>, <strong>FREEFRIES</strong></div>
      </div>

      <aside>
        <div class="card quick-card">
          <h3 style="margin:0 0 8px">Quick Order</h3>
          <p class="small">Pick item & quantity ‚Äî added directly to cart.</p>
          <label class="small">Item</label>
          <select id="quick-item"></select>
          <div style="display:flex;gap:8px;margin-top:10px">
            <input id="quick-qty" type="number" min="1" value="1" aria-label="Quantity">
            <button class="btn" onclick="addQuick()">Add</button>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
            <button class="btn ghost" onclick="scrollToId('menu')">Full Menu</button>
            <div class="small muted">Cart: <strong id="mini-count">0</strong></div>
          </div>
        </div>
      </aside>
    </section>

    <!-- MENU -->
    <section id="menu">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <h2 class="section-title">Menu</h2>
        <div class="muted">Street-food classics, combos & sides</div>
      </div>

      <div style="margin-top:12px" class="menu-top">
        <div class="pills" id="pills"></div>
        <div style="display:flex;gap:8px">
          <input id="menu-search" placeholder="Search menu (type...)" oninput="filterMenu()">
          <button class="pill" onclick="resetFilters()">Reset</button>
        </div>
      </div>

      <div class="menu-wrap">
        <div>
          <div id="menu-grid" class="menu-grid" aria-live="polite"></div>
          <div id="menu-accordion" class="menu-accordion" aria-hidden="true"></div>
        </div>

        <aside class="cart" aria-label="Cart">
          <div class="cart-panel">
            <h3 style="margin:0 0 8px">Your Cart</h3>
            <div id="cart-items" class="muted">Your cart is empty.</div>

            <div style="margin-top:12px">
              <label class="small">Choose Branch</label>
              <select id="branch-select"></select>
            </div>

            <div style="margin-top:12px">
              <label class="small">Promo Code</label>
              <div style="display:flex;gap:8px">
                <input id="cart-promo" placeholder="Promo code">
                <button class="btn" onclick="applyPromoInput()">Apply</button>
              </div>
              <div id="promo-feedback" class="small" style="margin-top:8px;color:#e63946"></div>
            </div>

            <div style="display:flex;justify-content:space-between;margin-top:12px">
              <span class="small">Subtotal</span><strong id="cart-sub">0 EGP</strong>
            </div>
            <div style="display:flex;justify-content:space-between;margin-top:6px">
              <span class="small">Discount</span><strong id="cart-disc">0 EGP</strong>
            </div>
            <div style="display:flex;justify-content:space-between;margin-top:6px">
              <span class="small">Total</span><strong id="cart-total">0 EGP</strong>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn" onclick="openCheckout()">Checkout</button>
              <button class="btn ghost" onclick="clearCart()">Clear</button>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- PROMOTIONS -->
    <section id="promotions">
      <h2 class="section-title">Promotions & Promo Codes</h2>
      <div style="margin-top:12px" class="promo-grid" id="promo-grid"></div>
    </section>

    <!-- BRANCHES -->
    <section id="branches">
      <h2 class="section-title">Branches</h2>
      <div style="margin-top:12px" id="branches-grid" class="branches-grid"></div>
      <div style="text-align:center;margin-top:12px">
        <button class="btn ghost" id="showBranchesBtn" onclick="toggleBranches()">Show More</button>
      </div>
      <div id="map-area" class="map-wrap" style="display:none;margin-top:16px">
        <iframe id="branch-map" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13431.6178270223!2d31.235712!3d30.044420!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2seg!4v1696599999999" loading="lazy" style="width:100%;height:340px;border:0"></iframe>
      </div>
    </section>

    <!-- FORMS -->
    <section id="forms">
      <h2 class="section-title">Survey ‚Ä¢ Franchise ‚Ä¢ Jobs ‚Ä¢ Contact</h2>
      <div class="forms-shell">
        <div class="tabs" id="formTabs">
          <button class="tab active" data-target="survey">Survey</button>
          <button class="tab" data-target="franchise">Franchise</button>
          <button class="tab" data-target="jobs">Jobs</button>
          <button class="tab" data-target="contact">Contact</button>
        </div>

        <div id="panel-survey" class="tab-panel active">
          <form id="survey-form" onsubmit="return submitSurvey(event)">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
              <div><label class="small">Receipt #</label><input id="survey-receipt" required placeholder="e.g. 2025-0001"></div>
              <div><label class="small">Branch</label><select id="survey-branch"></select></div>
            </div>
            <div style="margin-top:10px"><label class="small">Name (optional)</label><input id="survey-name" placeholder="Full name"></div>
            <div style="margin-top:10px"><label class="small">Rating</label><div id="rating-stars" style="display:flex;gap:8px;font-size:22px;cursor:pointer"><span class="star" data-v="1">‚òÖ</span><span class="star" data-v="2">‚òÖ</span><span class="star" data-v="3">‚òÖ</span><span class="star" data-v="4">‚òÖ</span><span class="star" data-v="5">‚òÖ</span></div></div>
            <div style="margin-top:10px"><label class="small">Comments</label><textarea id="survey-comments" required></textarea></div>
            <div style="margin-top:12px;display:flex;gap:8px"><button class="btn" type="submit">Submit</button><button class="btn ghost" type="button" onclick="document.getElementById('survey-form').reset(); setRating(0)">Reset</button></div>
          </form>
        </div>

        <div id="panel-franchise" class="tab-panel" hidden>
          <form id="franchise-form" onsubmit="return submitFranchise(event)">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px"><div><label class="small">Full name</label><input id="fr-name" required></div><div><label class="small">Email</label><input id="fr-email" type="email" required></div></div>
            <div style="margin-top:10px"><label class="small">Phone</label><input id="fr-phone"></div>
            <div style="margin-top:10px"><label class="small">Location</label><input id="fr-location" required></div>
            <div style="margin-top:10px"><label class="small">Message</label><textarea id="fr-message"></textarea></div>
            <div style="margin-top:12px"><button class="btn" type="submit">Send Request</button></div>
          </form>
        </div>

        <div id="panel-jobs" class="tab-panel" hidden>
          <form id="jobs-form" onsubmit="return submitJobs(event)">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px"><div><label class="small">Full name</label><input id="job-name" required></div><div><label class="small">Position</label><input id="job-role" required></div></div>
            <div style="margin-top:10px"><label class="small">Phone</label><input id="job-phone"></div>
            <div style="margin-top:10px"><label class="small">Email</label><input id="job-email" type="email" required></div>
            <div style="margin-top:10px"><label class="small">CV / Message</label><textarea id="job-cv"></textarea></div>
            <div style="margin-top:12px"><button class="btn" type="submit">Apply</button></div>
          </form>
        </div>

        <div id="panel-contact" class="tab-panel" hidden>
          <form id="contact-form" onsubmit="return submitContact(event)">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
              <div><label class="small">Reason</label><select id="contact-type"><option>General Inquiry</option><option>Franchise Request</option><option>Career Opportunity</option></select></div>
              <div><label class="small">Phone</label><input id="contact-phone" type="tel"></div>
            </div>
            <div style="margin-top:10px"><label class="small">Full name</label><input id="contact-name" required></div>
            <div style="margin-top:10px"><label class="small">Email</label><input id="contact-email" type="email" required></div>
            <div style="margin-top:10px"><label class="small">Message</label><textarea id="contact-message" required></textarea></div>
            <div style="margin-top:12px;display:flex;gap:8px"><button class="btn" type="submit">Send Message</button><a class="btn ghost" href="#" target="_blank" rel="noopener">WhatsApp</a></div>
          </form>
        </div>

        <!-- mobile accordion fallback -->
        <div class="accordion" id="mobile-forms" style="margin-top:12px">
          <button class="acc-btn" data-acc="acc-survey">Survey ‚ñæ</button><div id="acc-survey" class="acc-content"></div>
          <button class="acc-btn" data-acc="acc-franchise">Franchise ‚ñæ</button><div id="acc-franchise" class="acc-content"></div>
          <button class="acc-btn" data-acc="acc-jobs">Jobs ‚ñæ</button><div id="acc-jobs" class="acc-content"></div>
          <button class="acc-btn" data-acc="acc-contact">Contact ‚ñæ</button><div id="acc-contact" class="acc-content"></div>
        </div>
      </div>
    </section>

    <!-- contact area -->
    <section id="contact" style="margin-top:6px">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>
          <div style="font-weight:800;color:var(--char)">Kufta</div>
          <div class="muted">Hotline: <strong>15544</strong></div>
        </div>
        <div class="small muted">¬© 2025 Kufta</div>
      </div>
      <!-- socials -->
      <div style="margin-top:12px;text-align:center">
        <div class="socials" aria-hidden="false">
          <a href="https://facebook.com" target="_blank" rel="noopener" title="Facebook">f</a>
          <a href="https://instagram.com" target="_blank" rel="noopener" title="Instagram">ig</a>
          <a href="https://tiktok.com" target="_blank" rel="noopener" title="TikTok">tt</a>
        </div>
      </div>
    </section>

  </main>

  <footer style="padding:18px 0;text-align:center;background:transparent"></footer>
</div>

<!-- FABs (mobile-only) -->
<button class="wa-fab" id="waFab" aria-label="WhatsApp" title="Open WhatsApp" onclick="openWhatsApp()" style="display:none">üí¨</button>
<button class="cart-fab" id="cartFab" aria-label="Open cart" title="Open cart" onclick="openCheckout()" style="display:none">üõí <span id="fab-count" style="margin-left:8px"></span></button>

<!-- Checkout modal / bottom sheet -->
<div id="checkout-modal" class="modal-backdrop" style="display:none;align-items:center;justify-content:center">
  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="checkoutTitle">
    <button style="float:right;border:0;background:transparent;font-size:20px;cursor:pointer" onclick="closeCheckout()">‚úï</button>
    <h3 id="checkoutTitle" style="margin-top:0;color:transparent;background:linear-gradient(90deg,var(--accent),#262626);-webkit-background-clip:text;background-clip:text;font-weight:800">Checkout</h3>
    <div style="display:grid;grid-template-columns:1fr 320px;gap:12px">
      <div>
        <div style="margin-bottom:10px">
          <label class="small">Branch</label>
          <select id="checkout-branch"></select>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
          <div><label class="small">Full name</label><input id="checkout-name" required></div>
          <div><label class="small">Phone</label><input id="checkout-phone" required></div>
        </div>

        <div style="margin-top:10px">
          <label class="small">Secondary phone (optional)</label>
          <input id="checkout-phone2" placeholder="Alternate phone (optional)">
        </div>

        <div style="margin-top:10px">
          <label class="small">Delivery address</label>
          <textarea id="checkout-address" placeholder="Enter delivery address" required></textarea>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <button class="btn" type="button" onclick="tryGeolocation()" title="Use my location">üìç Use my location</button>
            <div id="geo-status" class="small muted" style="align-self:center"></div>
          </div>
        </div>
      </div>

      <aside style="background:#fff;border-radius:10px;padding:12px;border:1px solid #eee">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong>Order summary</strong><div class="small" id="checkout-count">0 items</div>
        </div>

        <div id="checkout-items" style="margin-top:10px;max-height:220px;overflow:auto"></div>

        <div style="margin-top:10px;display:flex;justify-content:space-between"><div class="small">Subtotal</div><div id="checkout-sub">0 EGP</div></div>
        <div style="display:flex;justify-content:space-between;margin-top:6px"><div class="small">Discount</div><div id="checkout-disc">0 EGP</div></div>
        <div style="display:flex;justify-content:space-between;margin-top:8px;font-weight:800"><div>Total</div><div id="checkout-total">0 EGP</div></div>

        <div style="margin-top:10px">
          <label class="small">Promo code</label>
          <div style="display:flex;gap:8px">
            <input id="checkout-promo" placeholder="Enter promo code">
            <button class="btn ghost" onclick="applyPromoCheckout()">Apply</button>
          </div>
          <div id="checkout-promo-feedback" class="small muted" style="margin-top:6px"></div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn" onclick="placeOrderModal()">Place Order</button>
          <button class="btn ghost" onclick="clearCart(); updateModal()">Clear</button>
        </div>
      </aside>
    </div>
  </div>
</div>

<script>
/* ===== Data ===== */
/* Local images referenced. Put your real photos in the assets/images/ folder (same directory as this HTML). */
const MENU = [
  {cat:'Sandwiches', name:'Kufta Sandwich', price:45, desc:'Grilled kofta, tahini, pickles, salad', img:'assets/images/kofta.jpg'},
  {cat:'Sandwiches', name:'Hawawshi', price:60, desc:'Traditional Egyptian spiced meat bread', img:'assets/images/hawawshi.jpg'},
  {cat:'Sandwiches', name:'Kufta Double', price:105, desc:'Double portion of kufta', img:'assets/images/kufta-double.jpg'},
  {cat:'Combos', name:'Kufta Combo', price:85, desc:'Sandwich + fries + drink', img:'assets/images/combo.jpg'},
  {cat:'Sides', name:'Potato Chips', price:15, desc:'Freshly fried chips', img:'assets/images/fries.jpg'},
  {cat:'Sides', name:'Tahini', price:15, desc:'Classic dip', img:'assets/images/tahini.jpg'},
  {cat:'Drinks', name:'Rayeb Lemon & Blueberry', price:25, desc:'Refreshing cultured drink', img:'assets/images/drink.jpg'},
  {cat:'Drinks', name:'Mineral Water', price:15, desc:'Still water', img:'assets/images/water.jpg'}
];

const BRANCHES = [
  {name:'Downtown (Talaat Harb)', addr:'Talaat Harb St, Downtown Cairo', hours:'10:00 - 02:00', phone:'15544', img:'assets/images/downtown.jpg'},
  {name:'Zamalek', addr:'Street 123, Zamalek, Cairo', hours:'10:00 - 02:00', phone:'15544', img:'assets/images/zamalek.jpg'},
  {name:'North Coast (Marina)', addr:'Marina Gate 5, North Coast', hours:'Seasonal hours', phone:'15544', img:'assets/images/marina.jpg'}
];

const PROMOS = {
  '3ALADEEMO': {type:'percent', amt:15, min:150, note:'15% off orders over 150 EGP'},
  'WELCOME10': {type:'percent', amt:10, min:100, note:'10% off first orders over 100 EGP'},
  'FREEFRIES': {type:'freeitem', item:'Potato Chips', min:0, note:'Free Potato Chips with any sandwich'}
};

/* ===== state ===== */
let activeCat = 'Sandwiches';
let cart = [];
let appliedPromo = null;
let showAllBranches = false;
let rating = 0;

/* ===== helpers ===== */
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));
const money = n => Math.round(n) + ' EGP';
function scrollToId(id){ const el=document.getElementById(id); if(!el) return; const header=document.querySelector('header.top'); const offset = header ? header.offsetHeight + 8 : 80; const y = el.getBoundingClientRect().top + window.pageYOffset - offset; window.scrollTo({top:y,behavior:'smooth'}); }

... (script continues ‚Äî full script included in the file)
</script>
</body>
</html>
